<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc -->
    <title>MESUnitTestUtils (mes-core 0.5 API)</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="MESUnitTestUtils (mes-core 0.5 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../index-all.html">Index</a></li>
        <li><a href="../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../index.html?org/simplemes/mes/test/MESUnitTestUtils" target="_top">Frames</a></li>
            <li><a href="MESUnitTestUtils.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.simplemes.mes.test</strong></div>

    <h2 title="[Groovy] Class MESUnitTestUtils" class="title">[Groovy] Class MESUnitTestUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>org.simplemes.mes.test.MESUnitTestUtils
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">


            <!-- todo: direct known subclasses -->
            <hr>
            <br>

<pre>class MESUnitTestUtils
extends java.lang.Object</pre>

    <p> Convenience utilities for MES unit tests.  Used to create common data structures.
 Can also be used for GUI/Integration tests with proper transaction settings.
 Currently, you should use the static methods.  The internal instance methods are used
 to allow sub-classing.</p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;<a href='../../../../org/simplemes/mes/test/MESUnitTestUtils.html'>MESUnitTestUtils</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#instance">instance</a></code><br>A singleton, used to allow sub-classes to provide additional features.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>private&nbsp;static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#originalUserOverride">originalUserOverride</a></code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#MESUnitTestUtils()">MESUnitTestUtils</a>
                                ()</code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#adjustOperation(org.simplemes.mes.product.domain.ProductOperation, java.util.Map)">adjustOperation</a></strong>(<a href='../../../../org/simplemes/mes/product/domain/ProductOperation.html'>ProductOperation</a> operation, java.util.Map options)</code><br>Allows sub-classes to adjust the ProductOperation before it is saved.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#adjustOperation(org.simplemes.mes.product.domain.MasterOperation, java.util.Map)">adjustOperation</a></strong>(<a href='../../../../org/simplemes/mes/product/domain/MasterOperation.html'>MasterOperation</a> operation, java.util.Map options)</code><br>Allows sub-classes to adjust the MasterOperation before it is saved.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#adjustOrder(org.simplemes.mes.demand.domain.Order, java.util.Map)">adjustOrder</a></strong>(<a href='../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order, java.util.Map options)</code><br>Allows sub-classes to adjust the Order before it is saved.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#adjustProduct(org.simplemes.mes.product.domain.Product, java.util.Map)">adjustProduct</a></strong>(<a href='../../../../org/simplemes/mes/product/domain/Product.html'>Product</a> product, java.util.Map options)</code><br>Allows sub-classes to adjust the Product before it is saved.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;<a href='../../../../org/simplemes/mes/product/domain/MasterRouting.html'>MasterRouting</a></code></td>
                            <td class="colLast"><code><strong><a href="#buildMasterRouting(java.util.Map)">buildMasterRouting</a></strong>(java.util.Map options)</code><br>Build a simple master routing the given operations.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;<a href='../../../../org/simplemes/mes/product/domain/Product.html'>Product</a></code></td>
                            <td class="colLast"><code><strong><a href="#buildSimpleProductWithRouting(java.util.Map)">buildSimpleProductWithRouting</a></strong>(java.util.Map options)</code><br>Build a product with a simple 3 operation routing for use in an product.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#clearLoginUser()">clearLoginUser</a></strong>()</code><br>Resets the user override to the value we found on setLoginUser().</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#forceQtyDone(org.simplemes.mes.demand.domain.Order, BigDecimal)">forceQtyDone</a></strong>(<a href='../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order, <a href='../../../../BigDecimal.html'>BigDecimal</a> qtyDone)</code><br>Forces the qty to done for the given order (and LSNs if any).</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#forceQtyInWork(org.simplemes.mes.demand.domain.Order, BigDecimal)">forceQtyInWork</a></strong>(<a href='../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order, <a href='../../../../BigDecimal.html'>BigDecimal</a> qtyInWork)</code><br>Forces the qty to in work for the given order (and LSNs if any).</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#loadOrderInitialDataNeeded(java.util.Map)">loadOrderInitialDataNeeded</a></strong>(java.util.Map options)</code><br>Loads any initial data needed for order release.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;<a href='../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a></code></td>
                            <td class="colLast"><code><strong><a href="#releaseOrder(java.util.Map)">releaseOrder</a></strong>(java.util.Map options)</code><br>Create and release a single order, optionally on a routing with or without LSNs.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;java.util.List&lt;Order&gt;</code></td>
                            <td class="colLast"><code><strong><a href="#releaseOrders(java.util.Map)">releaseOrders</a></strong>(java.util.Map options)</code><br>Create and release orders, optionally on a routing with or without LSNs.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;java.util.List&lt;Order&gt;</code></td>
                            <td class="colLast"><code><strong><a href="#releaseOrdersInternal(java.util.Map)">releaseOrdersInternal</a></strong>(java.util.Map options)</code><br>Internal create and release orders.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#resetCodeSequences()">resetCodeSequences</a></strong>()</code><br>Resets all of the codeSequences for the test database.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#resetSequence(java.lang.Class, long)">resetSequence</a></strong>(java.lang.Class sequenceClass, long newSequence)</code><br>Resets the currentSequence for thie given CodeSequenceTrait to the given sequence.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;long</code></td>
                            <td class="colLast"><code><strong><a href="#setDates(org.simplemes.mes.demand.WorkStateTrait, long)">setDates</a></strong>(<a href='../../../../org/simplemes/mes/demand/WorkStateTrait.html'>WorkStateTrait</a> workState, long timeStamp)</code><br>Sets the date queued/started (if already set) to the given timestamp and then increments the timestamp.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>static&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#setLoginUser()">setLoginUser</a></strong>()</code><br>Sets the current user for order release and other actions.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#spreadDates(List)">spreadDates</a></strong>(java.util.List&lt;Order&gt; orders)</code><br>Utility method to set the dates queued/started to a known value for a list of orders/LSNs.
 </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long, int), java.lang.Object#wait(), java.lang.Object#wait(long), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="instance"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;<a href='../../../../org/simplemes/mes/test/MESUnitTestUtils.html'>MESUnitTestUtils</a> <strong>instance</strong></h4>
                                <p> A singleton, used to allow sub-classes to provide additional features.</p>
                            </li>
                        </ul>
                    
                        <a name="originalUserOverride"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;static&nbsp;java.lang.String <strong>originalUserOverride</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="MESUnitTestUtils()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>MESUnitTestUtils</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="adjustOperation(org.simplemes.mes.product.domain.ProductOperation, java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: unused)
protected&nbsp;void <strong>adjustOperation</strong>(<a href='../../../../org/simplemes/mes/product/domain/ProductOperation.html'>ProductOperation</a> operation, java.util.Map options)</h4>
                                <p> Allows sub-classes to adjust the ProductOperation before it is saved. <DL><DT><B>Parameters:</B></DT><DD><code>operation</code> -  The un-saved operation.</DD><DD><code>options</code> -  the options for the order release.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="adjustOperation(org.simplemes.mes.product.domain.MasterOperation, java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: unused)
protected&nbsp;void <strong>adjustOperation</strong>(<a href='../../../../org/simplemes/mes/product/domain/MasterOperation.html'>MasterOperation</a> operation, java.util.Map options)</h4>
                                <p> Allows sub-classes to adjust the MasterOperation before it is saved. <DL><DT><B>Parameters:</B></DT><DD><code>operation</code> -  The un-saved operation.</DD><DD><code>options</code> -  the options for the order release.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="adjustOrder(org.simplemes.mes.demand.domain.Order, java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: unused)
protected&nbsp;void <strong>adjustOrder</strong>(<a href='../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order, java.util.Map options)</h4>
                                <p> Allows sub-classes to adjust the Order before it is saved. <DL><DT><B>Parameters:</B></DT><DD><code>product</code> -  The un-saved order.</DD><DD><code>options</code> -  the options for the order release.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="adjustProduct(org.simplemes.mes.product.domain.Product, java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: unused)
protected&nbsp;void <strong>adjustProduct</strong>(<a href='../../../../org/simplemes/mes/product/domain/Product.html'>Product</a> product, java.util.Map options)</h4>
                                <p> Allows sub-classes to adjust the Product before it is saved. <DL><DT><B>Parameters:</B></DT><DD><code>product</code> -  The un-saved product.</DD><DD><code>options</code> -  the options for the order release.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="buildMasterRouting(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;<a href='../../../../org/simplemes/mes/product/domain/MasterRouting.html'>MasterRouting</a> <strong>buildMasterRouting</strong>(java.util.Map options)</h4>
                                <p> Build a simple master routing the given operations.

 <h3>Options</h3>
 The options can be:
 <ul>
   <li><b>operations</b> - A List of operation sequences (Integers).  (<b>Default</b>: [1,2,3])</li>
   <li><b>id</b> - A semi-unique ID to help identify records created by this method (<b>Default</b>: '') </li>
 </ul> <DL><DT><B>Parameters:</B></DT><DD><code>options</code> -  The options used to build the routing.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The master routing.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="buildSimpleProductWithRouting(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;<a href='../../../../org/simplemes/mes/product/domain/Product.html'>Product</a> <strong>buildSimpleProductWithRouting</strong>(java.util.Map options)</h4>
                                <p> Build a product with a simple 3 operation routing for use in an product.

 <h3>Options</h3>
 The options can be:
 <ul>
   <li><b>product</b> - The product to create.  (<b>Default</b>: 'PC')</li>
   <li><b>operations</b> - A List of operation sequences (Integers).  (<b>Default</b>: [1,2,3])</li>
   <li><b>lsnTrackingOption</b> - Configures the LSN option (<b>Default</b>: LSNTrackingOption.ORDER_ONLY) </li>
 </ul>
 <b>Note:</b> If the lsnTrackingOption is LSNTrackingOption.LSN_ONLY, then default LSNSequence is used for the product. <DL><DT><B>Parameters:</B></DT><DD><code>options</code> -  The options used to build the product.  Supports operations(List of sequences (integers))</DD></DL><DL><DT><B>Returns:</B></DT><DD>The product.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="clearLoginUser()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;void <strong>clearLoginUser</strong>()</h4>
                                <p> Resets the user override to the value we found on setLoginUser().</p>
                            </li>
                        </ul>
                    
                        <a name="forceQtyDone(org.simplemes.mes.demand.domain.Order, BigDecimal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;void <strong>forceQtyDone</strong>(<a href='../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order, <a href='../../../../BigDecimal.html'>BigDecimal</a> qtyDone)</h4>
                                <p> Forces the qty to done for the given order (and LSNs if any). <DL><DT><B>Parameters:</B></DT><DD><code>order</code> -  The order.</DD><DD><code>qtyDone</code> -  The qty to take from inQueue and move to done.  Only moved if the qtyInQueue is large enough.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="forceQtyInWork(org.simplemes.mes.demand.domain.Order, BigDecimal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;void <strong>forceQtyInWork</strong>(<a href='../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order, <a href='../../../../BigDecimal.html'>BigDecimal</a> qtyInWork)</h4>
                                <p> Forces the qty to in work for the given order (and LSNs if any). <DL><DT><B>Parameters:</B></DT><DD><code>order</code> -  The order.</DD><DD><code>qtyInWork</code> -  The qty to take from inQueue and move to in work.  Only moved if the qtyInQueue is large enough.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="loadOrderInitialDataNeeded(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.Object <strong>loadOrderInitialDataNeeded</strong>(java.util.Map options)</h4>
                                <p> Loads any initial data needed for order release.  Always loads the OrderStatus. <DL><DT><B>Parameters:</B></DT><DD><code>options</code> -  Uses the lsnTrackingOption to decide if LSN Sequence and Status must be loaded.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="releaseOrder(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;<a href='../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> <strong>releaseOrder</strong>(java.util.Map options)</h4>
                                <p> Create and release a single order, optionally on a routing with or without LSNs.
 This is a convenience function that calls <a href='#releaseOrders(java.util.Map)'>releaseOrders(java.util.Map)</a>.
 <p>
 <b>This method creates a <b>transaction</b> (if needed).</b>. <DL><DT><B>Parameters:</B></DT><DD><code>options</code> -  See for the <a href='#releaseOrders(java.util.Map)'>releaseOrders(java.util.Map)</a> for details.  (<b>Optional</b>)</DD></DL><DL><DT><B>Returns:</B></DT><DD>The order(s) created and released.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="releaseOrders(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.util.List&lt;Order&gt; <strong>releaseOrders</strong>(java.util.Map options)</h4>
                                <p> Create and release orders, optionally on a routing with or without LSNs.
 <p>
 <b>This method creates a <b>transaction</b> (if needed).</b>.

 <h3>Options</h3>
 The options can be:
 <ul>
   <li><b>id</b> - A semi-unique ID to help identify records created by this method (<b>Default</b>: '') </li>
   <li><b>nOrders</b> - The number of orders to create (<b>Default</b>: 1) </li>
   <li><b>operations</b> - A List of operation sequences (Integers).  This list is sorted in reverse order before save().  (<b>Default</b>: No routing)</li>
   <li><b>masterRouting</b> - The name of the master routing to create for this order.  Will use the unique ID in the key.  (<b>Default</b>: No routing)</li>
   <li><b>productName</b> - The name of the product for the order. (<b>Default</b>: No product unless Operations or LSN tracking is set)</li>
   <li><b>qty</b> - The number of pieces to build for each order (<b>Default</b>: 1.0) </li>
   <li><b>qtyInWork</b> - The number of pieces to move to in work (<b>Default</b>: 0.0).  Allows easy testing of inWork orders. </li>
   <li><b>qtyDone</b> - The number of pieces to move to qtyDone (<b>Default</b>: 0.0).  Allows easy testing of completed orders. </li>
   <li><b>lotSize</b> - The size of each LSN created (if configured for LSNs) (<b>Default</b>: 1.0) </li>
   <li><b>lsnTrackingOption</b> - Configures the LSN option (<b>Default</b>: LSNTrackingOption.ORDER_ONLY) </li>
   <li><b>lsnSequence</b> - The LSN Sequence to use to generate the LSN names (<b>Default</b>: default LSN Sequence) </li>
   <li><b>lsns</b> - A list of LSN names (Strings) to use for the order. LSNs are created using this and the order # (if nOrders>1).  (<b>Default</b>: default LSN Sequence) </li>
   <li><b>spreadQueuedDates</b> - If true, then the dateFirstQueued for all created objects will be spread from a date 14 days ago (+1 second for each).  (<b>Default</b>: false) </li>
   <li><b>orderSequenceStart</b> - The sequence number for the first order created (<b>Default</b>: 1000) </li>
 </ul>
 <b>Note:</b> If the lsnTrackingOption is LSNTrackingOption.LSN_ONLY, then an LSNSequence is used for the product.
 <p>
 <b>Note:</b> The records created by this utility should be cleaned up using this option (for sub-classes of the test specs).
 <pre>
   static dirtyDomains = [ActionLog, Order, Product]
 </pre> <DL><DT><B>Parameters:</B></DT><DD><code>options</code> -  See options above. (<b>Optional</b>)</DD></DL><DL><DT><B>Returns:</B></DT><DD>The order(s) created and released.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="releaseOrdersInternal(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: AbcMetric)
protected&nbsp;java.util.List&lt;Order&gt; <strong>releaseOrdersInternal</strong>(java.util.Map options)</h4>
                                <p> Internal create and release orders.  This is used as a non-static method to allow sub-classes to alter the
 objects created.
 <p>
 <b>This method creates a <b>transaction</b> (if needed).</b>. <DL><DT><B>Parameters:</B></DT><DD><code>options</code> -  See for the <a href='#releaseOrders(java.util.Map)'>releaseOrders(java.util.Map)</a> for details.  (<b>Optional</b>)</DD></DL><DL><DT><B>Returns:</B></DT><DD>The order(s) created and released.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="resetCodeSequences()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.Object <strong>resetCodeSequences</strong>()</h4>
                                <p> Resets all of the codeSequences for the test database.</p>
                            </li>
                        </ul>
                    
                        <a name="resetSequence(java.lang.Class, long)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.Object <strong>resetSequence</strong>(java.lang.Class sequenceClass, long newSequence)</h4>
                                <p> Resets the currentSequence for thie given CodeSequenceTrait to the given sequence.  This is used to clean up after tests <DL><DT><B>Parameters:</B></DT><DD><code>sequenceClass</code> -  The sequence to reset all sequences for.</DD><DD><code>newSequence</code> -  The new current sequence to use.  (<b>Default:</b> 1000)</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="setDates(org.simplemes.mes.demand.WorkStateTrait, long)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;long <strong>setDates</strong>(<a href='../../../../org/simplemes/mes/demand/WorkStateTrait.html'>WorkStateTrait</a> workState, long timeStamp)</h4>
                                <p> Sets the date queued/started (if already set) to the given timestamp and then increments the timestamp. <DL><DT><B>Parameters:</B></DT><DD><code>workState</code> -  The state object to update.</DD><DD><code>timeStamp</code> -  The time to set the dates to.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The updated timestamp.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="setLoginUser()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;void <strong>setLoginUser</strong>()</h4>
                                <p> Sets the current user for order release and other actions.</p>
                            </li>
                        </ul>
                    
                        <a name="spreadDates(List)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarnings(value: GroovyAssignabilityCheck)
protected&nbsp;void <strong>spreadDates</strong>(java.util.List&lt;Order&gt; orders)</h4>
                                <p> Utility method to set the dates queued/started to a known value for a list of orders/LSNs.
 Processes all LSNs in the orders for all possible routing steps. <DL><DT><B>Parameters:</B></DT><DD><code>orders</code> -  The orders to set the dates on.</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../index-all.html">Index</a></li>
        <li><a href="../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../index.html?org/simplemes/mes/test/MESUnitTestUtils" target="_top">Frames</a></li>
            <li><a href="MESUnitTestUtils.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
