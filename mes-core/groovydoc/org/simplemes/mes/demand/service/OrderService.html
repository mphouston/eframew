<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc -->
    <title>OrderService (mes-core 0.5 API)</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="OrderService (mes-core 0.5 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/mes/demand/service/OrderService" target="_top">Frames</a></li>
            <li><a href="OrderService.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.simplemes.mes.demand.service</strong></div>

    <h2 title="[Groovy] Class OrderService" class="title">[Groovy] Class OrderService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>org.simplemes.mes.demand.service.OrderService
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">



    <p> This service provided methods to manipulate orders in SimpleMES.  This contains the core business logic
 for orders.  This provides methods to release an order for production and close an order when completed early.

 <h3>Logging</h3>
 The logging for this class that can be enabled:
 <ul>
   <li><b>debug</b> - Debugging information. Typically includes inputs and outputs. </li>
 </ul>
</p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        
            <ul class="blockList">
                <li class="blockList"><a name="field_summary"><!--   --></a>
                    <h3>Field Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum constants summary table">
                        <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Modifiers</th>
                            <th class="colLast" scope="col">Name</th>
                            <th class="colLast" scope="col">Description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#ACTION_RELEASE_LSN">ACTION_RELEASE_LSN</a></code></td>
                            <td class="colLast">The org.simplemes.mes.tracking.domain.ActionLog entry used for Release LSN actions.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#ACTION_RELEASE_ORDER">ACTION_RELEASE_ORDER</a></code></td>
                            <td class="colLast">The org.simplemes.mes.tracking.domain.ActionLog entry used for Release order actions.</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
                
            </ul>
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;long</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#lastLogTime">lastLogTime</a></code><br>The time the last log warning message was triggered.</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#OrderService()">OrderService</a>
                                ()</code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../List.html'>List</a></code></td>
                            <td class="colLast"><code><strong><a href="#archiveOld(BigDecimal, java.lang.Long, java.lang.Integer)">archiveOld</a></strong>(<a href='../../../../../BigDecimal.html'>BigDecimal</a> ageDays, java.lang.Long maxOrdersPerTxn, java.lang.Integer maxTxns)</code><br>Archive old, done orders based on the date that they were completed.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#delete(org.simplemes.mes.demand.domain.Order)">delete</a></strong>(<a href='../../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order)</code><br>Deletes the given order and related records.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../List.html'>List</a></code></td>
                            <td class="colLast"><code><strong><a href="#determineQtyStates(org.simplemes.mes.demand.domain.Order)">determineQtyStates</a></strong>(<a href='../../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order)</code><br>Finds all places the given order is in queue or in work. </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../List.html'>List</a></code></td>
                            <td class="colLast"><code><strong><a href="#determineQtyStates(org.simplemes.mes.demand.domain.LSN)">determineQtyStates</a></strong>(<a href='../../../../../org/simplemes/mes/demand/domain/LSN.html'>LSN</a> lsn)</code><br>Finds all places the given LSN is in queue or in work. </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../org/simplemes/mes/demand/OrderReleaseResponse.html'>OrderReleaseResponse</a></code></td>
                            <td class="colLast"><code><strong><a href="#release(org.simplemes.mes.demand.OrderReleaseRequest)">release</a></strong>(<a href='../../../../../org/simplemes/mes/demand/OrderReleaseRequest.html'>OrderReleaseRequest</a> orderReleaseRequest)</code><br>Release the given order for production.  </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long, int), java.lang.Object#wait(), java.lang.Object#wait(long), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            
            <!-- =========== FIELD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="field_detail">
                    <!--   -->
                </a>
                    <h3>Field Detail</h3>
                    
                        <a name="ACTION_RELEASE_LSN"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;final&nbsp;java.lang.String <strong>ACTION_RELEASE_LSN</strong></h4>
                                <p> The org.simplemes.mes.tracking.domain.ActionLog entry used for Release LSN actions.</p>
                            </li>
                        </ul>
                    
                        <a name="ACTION_RELEASE_ORDER"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;final&nbsp;java.lang.String <strong>ACTION_RELEASE_ORDER</strong></h4>
                                <p> The org.simplemes.mes.tracking.domain.ActionLog entry used for Release order actions.</p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="lastLogTime"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;long <strong>lastLogTime</strong></h4>
                                <p> The time the last log warning message was triggered.</p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="OrderService()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>OrderService</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="archiveOld(BigDecimal, java.lang.Long, java.lang.Integer)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarningsSuppressWarnings
@groovy.transform.SynchronizedSynchronized
<a href='../../../../../List.html'>List</a> <strong>archiveOld</strong>(<a href='../../../../../BigDecimal.html'>BigDecimal</a> ageDays, java.lang.Long maxOrdersPerTxn, java.lang.Integer maxTxns)</h4>
                                <p> Archive old, done orders based on the date that they were completed.  There are options
 for the age (days) and the max number of orders to archive in one batch (transaction).  There is also an option to limit the number
 batches archived at a time.  This last option is used to limit the slowdown from archiving during 'catch-up' scenarios when
 archiving has not been run recently.  Values that exceed the maximum will be ignored and the maximum will be used.
 <p/>
 This method is typically called automatically once per day using the job scheduler.
 <p>
 <b>Note:</b> This method creates new transactions when archiving each batch of records.
              If called from within an existing transaction, then no new transactions will be created. <DL><DT><B>Parameters:</B></DT><DD><code>ageDays</code> -  Any orders completed more than this number of days in the past are eligible for archive.
                If 0 (default), then the config setting <b>org.simplemes.eframe.archive.ageDays</b> is used.
                Fractions allowed. <b>Default:</b> 100</DD><DD><code>maxOrdersPerTxn</code> -  The max number of orders to archive per transaction.  <b>Default:</b> 100. <b>Maximum:</b> 500.</DD><DD><code>maxTxns</code> -  The max number of orders to archive per transaction.  <b>Default:</b> 5. <b>Maximum:</b> 50.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The list of archive references created by this archive process.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="delete(org.simplemes.mes.demand.domain.Order)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarningsSuppressWarnings
@javax.transaction.TransactionalTransactional
void <strong>delete</strong>(<a href='../../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order)</h4>
                                <p> Deletes the given order and related records.  There is no confirmation for this delete.
 It relies on the Order#findRelatedRecords()#findRelatedRecords() <DL><DT><B>Parameters:</B></DT><DD><code>order</code> -  The order to delete.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="determineQtyStates(org.simplemes.mes.demand.domain.Order)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../../List.html'>List</a> <strong>determineQtyStates</strong>(<a href='../../../../../org/simplemes/mes/demand/domain/Order.html'>Order</a> order)</h4>
                                <p> Finds all places the given order is in queue or in work. <DL><DT><B>Parameters:</B></DT><DD><code>order</code> -  The order to query.</DD></DL><DL><DT><B>Returns:</B></DT><DD>A list of workable objects where the order is in queue or in work.  Sorted on operation sequence if an operation object.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="determineQtyStates(org.simplemes.mes.demand.domain.LSN)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><a href='../../../../../List.html'>List</a> <strong>determineQtyStates</strong>(<a href='../../../../../org/simplemes/mes/demand/domain/LSN.html'>LSN</a> lsn)</h4>
                                <p> Finds all places the given LSN is in queue or in work. <DL><DT><B>Parameters:</B></DT><DD><code>lsn</code> -  The LSN to query.</DD></DL><DL><DT><B>Returns:</B></DT><DD>A list of workable objects where the LSN is in queue or in work.  Sorted on operation sequence if an operation object.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="release(org.simplemes.mes.demand.OrderReleaseRequest)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@javax.transaction.TransactionalTransactional
@org.simplemes.eframe.custom.annotation.ExtensionPointExtensionPoint
@java.lang.SuppressWarningsSuppressWarnings
<a href='../../../../../org/simplemes/mes/demand/OrderReleaseResponse.html'>OrderReleaseResponse</a> <strong>release</strong>(<a href='../../../../../org/simplemes/mes/demand/OrderReleaseRequest.html'>OrderReleaseRequest</a> orderReleaseRequest)</h4>
                                <p> Release the given order for production.  The order cannot be worked on the shop floor until it is released.
 This method makes the quantity released available for production by queueing it the appropriate entry point (first
 operation if there is a routing needed).<p>
 <p>
 <b>Note</b>: This method is part of the Stable API. <DL><DT><B>Parameters:</B></DT><DD><code>orderReleaseRequest</code> -  The details of the release request (order and qty).</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/mes/demand/service/OrderService" target="_top">Frames</a></li>
            <li><a href="OrderService.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
