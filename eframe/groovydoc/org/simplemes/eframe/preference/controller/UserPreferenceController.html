<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc -->
    <title>UserPreferenceController (eframe 0.5 API)</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="UserPreferenceController (eframe 0.5 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/eframe/preference/controller/UserPreferenceController" target="_top">Frames</a></li>
            <li><a href="UserPreferenceController.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.simplemes.eframe.preference.controller</strong></div>

    <h2 title="[Groovy] Class UserPreferenceController" class="title">[Groovy] Class UserPreferenceController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>org.simplemes.eframe.preference.controller.UserPreferenceController
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">


            <!-- todo: direct known subclasses -->
            <hr>
            <br>

<pre>@io.micronaut.security.annotation.Secured(value: SecurityRule.IS_AUTHENTICATED)
@groovy.util.logging.Slf4j
@io.micronaut.http.annotation.Controller(value: /userPreference)
class UserPreferenceController
extends java.lang.Object</pre>

    <p> The controller for user preference changes from the GUI.  This is normally called from the toolkit.ui.js
 javascript methods and similar methods elsewhere.
 <p/>

 <h3>Logging</h3>
 The logging for this class can be enabled:
 <ul>
   <li><b>debug</b> - Logs the method input parameters. </li>
 </ul>

</p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;<a href='../../../../../org/simplemes/eframe/preference/service/UserPreferenceService.html'>UserPreferenceService</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#userPreferenceService">userPreferenceService</a></code><br>The service that handles most preference actions.</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#UserPreferenceController()">UserPreferenceController</a>
                                ()</code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.util.Map</code></td>
                            <td class="colLast"><code><strong><a href="#findPreferences(io.micronaut.http.HttpRequest)">findPreferences</a></strong>(io.micronaut.http.HttpRequest request)</code><br>Finds the given preference.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.util.Map</code></td>
                            <td class="colLast"><code><strong><a href="#findSimplePreference(io.micronaut.http.HttpRequest)">findSimplePreference</a></strong>(io.micronaut.http.HttpRequest request)</code><br>Finds the simple preference value for the current user and the given page.
 </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#guiStateChanged(java.lang.String)">guiStateChanged</a></strong>(java.lang.String body)</code><br>Handles user's changes to the GUI state.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#saveSimplePreference(java.util.Map)">saveSimplePreference</a></strong>(java.util.Map params)</code><br>Saves the given preference value into the user's preferences for the give element.
 </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long, int), java.lang.Object#wait(), java.lang.Object#wait(long), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="userPreferenceService"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;<a href='../../../../../org/simplemes/eframe/preference/service/UserPreferenceService.html'>UserPreferenceService</a> <strong>userPreferenceService</strong></h4>
                                <p> The service that handles most preference actions.</p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="UserPreferenceController()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>UserPreferenceController</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="findPreferences(io.micronaut.http.HttpRequest)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.Get(value: /findPreferences)
java.util.Map <strong>findPreferences</strong>(io.micronaut.http.HttpRequest request)</h4>
                                <p> Finds the given preference.  This is designed for use in the browser for dynamic preferences such as dialog
 sizes.<p/>
 Inputs from the request params are:
 <ul>
   <li><code>pageURI</code> - The URI for the page to find the preferences for (<b>Required</b>).</li>
   <li><code>element</code> - The ID of the element for the preference (<b>Optional</b>).</li>
   <li><code>preferenceType</code> - The preference type to return.  For example 'DialogPreference' (<b>Optional</b>).</li>
 </ul>
 <p/>
 The response is a JSON map with the preferences encoded as JSON objects.  The structure will vary
 depending on the preference type.</p>
                            </li>
                        </ul>
                    
                        <a name="findSimplePreference(io.micronaut.http.HttpRequest)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.Get(value: /findSimplePreference)
java.util.Map <strong>findSimplePreference</strong>(io.micronaut.http.HttpRequest request)</h4>
                                <p> Finds the simple preference value for the current user and the given page.
 This is a simplified view of preferences that just supports a simple name/value setting.

 <p/>
 The HTTP parameters supported are:
 <ul>
   <li><code>pageURI</code> - The URI for the page to find the preferences for (<b>Required</b>).</li>
   <li><code>element</code> - The ID of the element for the preference (<b>Required</b>).</li>
 </ul>
 Only the HTTP POST method is supported.<p><DL><DT><B>returns:</B></DT><DD>A JSON map object with the 'value'.</DD></DL> <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The HTTP request.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="guiStateChanged(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.Post(value: /guiStateChanged)
io.micronaut.http.HttpResponse <strong>guiStateChanged</strong>(@io.micronaut.http.annotation.Body java.lang.String body)</h4>
                                <p> Handles user's changes to the GUI state.  These are stored in the session and persisted for later displays of the page.
 The request body should be a JSON object with these values:
 <ul>
   <li><code>pageURI</code> - The URI for the page these settings changed on.</li>
   <li><code>element</code> - The HTML ID of the element that changed.</li>
   <li><code>event</code> - The change event (e.g.'ColumnResized' for  <a href='../../../../../org/simplemes/eframe/preference/event/ColumnResized.html' title='ColumnResized'>ColumnResized</a>, etc).</li>
   <li><code><i>value</i></code> - The value(s).  This depends on the event type.</li>
 </ul> <DL><DT><B>Parameters:</B></DT><DD><code>body</code> -  The request body.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="saveSimplePreference(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.Post(value: /saveSimplePreference)
void <strong>saveSimplePreference</strong>(java.util.Map params)</h4>
                                <p> Saves the given preference value into the user's preferences for the give element.
 This is a simplified view of preferences that just supports a simple name/value setting.

 <p/>
 The content must contain a JSON object with the following values:
 <ul>
   <li><code>pageURI</code> - The URI for the page to find the preferences for (<b>Required</b>).</li>
   <li><code>element</code> - The ID of the element for the preference (<b>Required</b>).</li>
   <li><code>key</code> - The preference key name.  String (<b>Default: 'key'</b>).</li>
   <li><code>value</code> - The preference value.  String or JSON object (<b>Default: ''</b>).</li>
 </ul>
 Only the HTTP POST method is supported. <DL><DT><B>Parameters:</B></DT><DD><code>params</code> -  The body (JSON) converted to a Map.</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/eframe/preference/controller/UserPreferenceController" target="_top">Frames</a></li>
            <li><a href="UserPreferenceController.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
