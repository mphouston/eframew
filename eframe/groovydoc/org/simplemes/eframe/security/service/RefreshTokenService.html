<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc -->
    <title>RefreshTokenService (eframe 0.5 API)</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="RefreshTokenService (eframe 0.5 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/eframe/security/service/RefreshTokenService" target="_top">Frames</a></li>
            <li><a href="RefreshTokenService.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.simplemes.eframe.security.service</strong></div>

    <h2 title="[Groovy] Class RefreshTokenService" class="title">[Groovy] Class RefreshTokenService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>org.simplemes.eframe.security.service.RefreshTokenService
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">

            <dl>
                <dt>All Implemented Interfaces and Traits:</dt>
                <dd>io.micronaut.security.token.refresh.RefreshTokenPersistence</dd>
            </dl>
            <!-- todo: direct known subclasses -->
            <hr>
            <br>
<pre>@groovy.util.logging.Slf4jSlf4j
@javax.inject.SingletonSingleton
class RefreshTokenService
extends java.lang.Object

</pre>



    <p> Provides services for the JWT refresh tokens.  Implements the refresh token persistence and realted methods.</p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        
            <ul class="blockList">
                <li class="blockList"><a name="field_summary"><!--   --></a>
                    <h3>Field Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum constants summary table">
                        <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Modifiers</th>
                            <th class="colLast" scope="col">Name</th>
                            <th class="colLast" scope="col">Description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.Long</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#CLEANUP_AGE_DAYS">CLEANUP_AGE_DAYS</a></code></td>
                            <td class="colLast">Tokens that expired more than this many days ago are eligible for cleanup.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#JWT_REFRESH_TOKEN">JWT_REFRESH_TOKEN</a></code></td>
                            <td class="colLast">The name of the cookie for the refresh token.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>protected&nbsp;io.micronaut.security.token.generator.RefreshTokenGenerator</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#refreshTokenGenerator">refreshTokenGenerator</a></code></td>
                            <td class="colLast"></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>protected&nbsp;io.micronaut.security.token.validator.RefreshTokenValidator</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#refreshTokenValidator">refreshTokenValidator</a></code></td>
                            <td class="colLast"></td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
                
            </ul>
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#RefreshTokenService(io.micronaut.security.token.generator.RefreshTokenGenerator, io.micronaut.security.token.validator.RefreshTokenValidator)">RefreshTokenService</a>
                                (io.micronaut.security.token.generator.RefreshTokenGenerator refreshTokenGenerator, io.micronaut.security.token.validator.RefreshTokenValidator refreshTokenValidator)</code><br> <DL><DT><B>Parameters:</B></DT><DD><code>refreshTokenGenerator</code> -  Refresh Token Generator</DD></DL></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst">
                                <code><a href="#RefreshTokenService()">RefreshTokenService</a>
                                ()</code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#cleanupOldUserTokens(java.lang.String)">cleanupOldUserTokens</a></strong>(java.lang.String userName)</code><br>Deletes any old, normal tokens.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#getRequestSource(io.micronaut.http.HttpRequest)">getRequestSource</a></strong>(io.micronaut.http.HttpRequest request)</code><br>Returns the request source IP address (as string). </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>org.reactivestreams.Publisher</code></td>
                            <td class="colLast"><code><strong><a href="#getUserDetails(java.lang.String)">getUserDetails</a></strong>(java.lang.String refreshTokenString)</code><br>Gets the refresh token's user details.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>org.reactivestreams.Publisher</code></td>
                            <td class="colLast"><code><strong><a href="#getUserDetailsAndNewToken(java.lang.String)">getUserDetailsAndNewToken</a></strong>(java.lang.String refreshTokenString)</code><br>Gets the refresh token's user details and creates a replacement token.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;io.micronaut.security.authentication.UserDetails</code></td>
                            <td class="colLast"><code><strong><a href="#getUserDetailsForUserName(java.lang.String)">getUserDetailsForUserName</a></strong>(java.lang.String userName)</code><br>Returns the user details for the given user name. </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#persistToken(io.micronaut.security.token.event.RefreshTokenGeneratedEvent)">persistToken</a></strong>(io.micronaut.security.token.event.RefreshTokenGeneratedEvent event)</code><br>Persists the refresh token. </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;<a href='../../../../../org/simplemes/eframe/security/ReplacementTokenResponse.html'>ReplacementTokenResponse</a></code></td>
                            <td class="colLast"><code><strong><a href="#replaceBothToken(org.simplemes.eframe.security.domain.RefreshToken, java.lang.String)">replaceBothToken</a></strong>(<a href='../../../../../org/simplemes/eframe/security/domain/RefreshToken.html'>RefreshToken</a> currentRefreshToken, java.lang.String requestSource)</code><br>Replaces the current token with a new one and return the correct cookies for the client. </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;<a href='../../../../../org/simplemes/eframe/security/ReplacementTokenResponse.html'>ReplacementTokenResponse</a></code></td>
                            <td class="colLast"><code><strong><a href="#replaceJwtToken(org.simplemes.eframe.security.domain.RefreshToken, java.lang.String)">replaceJwtToken</a></strong>(<a href='../../../../../org/simplemes/eframe/security/domain/RefreshToken.html'>RefreshToken</a> currentRefreshToken, java.lang.String requestSource)</code><br>Replaces the current JWT token (only) with a new one and return the correct cookie for the client. </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../org/simplemes/eframe/security/ReplacementTokenResponse.html'>ReplacementTokenResponse</a></code></td>
                            <td class="colLast"><code><strong><a href="#replaceRefreshToken(java.lang.String, io.micronaut.http.HttpRequest, java.lang.Boolean)">replaceRefreshToken</a></strong>(java.lang.String currentEncodedToken, io.micronaut.http.HttpRequest request, java.lang.Boolean forceReplace)</code><br>Replaces the given refresh token with a new single use token.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>protected&nbsp;void</code></td>
                            <td class="colLast"><code><strong><a href="#revokeAllUserTokens(java.lang.String)">revokeAllUserTokens</a></strong>(java.lang.String userName)</code><br>Revokes all user's tokens. </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long, int), java.lang.Object#wait(), java.lang.Object#wait(long), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            
            <!-- =========== FIELD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="field_detail">
                    <!--   -->
                </a>
                    <h3>Field Detail</h3>
                    
                        <a name="CLEANUP_AGE_DAYS"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;final&nbsp;java.lang.Long <strong>CLEANUP_AGE_DAYS</strong></h4>
                                <p> Tokens that expired more than this many days ago are eligible for cleanup.  Tokens used more than once
 are not cleaned up this way.</p>
                            </li>
                        </ul>
                    
                        <a name="JWT_REFRESH_TOKEN"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;final&nbsp;java.lang.String <strong>JWT_REFRESH_TOKEN</strong></h4>
                                <p> The name of the cookie for the refresh token.</p>
                            </li>
                        </ul>
                    
                        <a name="refreshTokenGenerator"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;final&nbsp;io.micronaut.security.token.generator.RefreshTokenGenerator <strong>refreshTokenGenerator</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="refreshTokenValidator"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;final&nbsp;io.micronaut.security.token.validator.RefreshTokenValidator <strong>refreshTokenValidator</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="RefreshTokenService(io.micronaut.security.token.generator.RefreshTokenGenerator, io.micronaut.security.token.validator.RefreshTokenValidator)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>RefreshTokenService</strong>(io.micronaut.security.token.generator.RefreshTokenGenerator refreshTokenGenerator, io.micronaut.security.token.validator.RefreshTokenValidator refreshTokenValidator)</h4>
                                <p> <DL><DT><B>Parameters:</B></DT><DD><code>refreshTokenGenerator</code> -  Refresh Token Generator</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="RefreshTokenService()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>RefreshTokenService</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="cleanupOldUserTokens(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@javax.transaction.TransactionalTransactional
protected&nbsp;void <strong>cleanupOldUserTokens</strong>(java.lang.String userName)</h4>
                                <p> Deletes any old, normal tokens.  Preserves all active tokens or tokens that were attempted to use more than once. <DL><DT><B>Parameters:</B></DT><DD><code>userName</code> -  The user.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getRequestSource(io.micronaut.http.HttpRequest)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>getRequestSource</strong>(io.micronaut.http.HttpRequest request)</h4>
                                <p> Returns the request source IP address (as string). <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The request.  If null, uses the Holders.currentRequest.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The source address.  May be null.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getUserDetails(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.OverrideOverride
@javax.transaction.TransactionalTransactional
org.reactivestreams.Publisher <strong>getUserDetails</strong>(java.lang.String refreshTokenString)</h4>
                                <p> Gets the refresh token's user details.
 <p>
   <b>Note:</b> This intentionally never finds the refresh details to prevent the standard OAuth logic
         from working. <DL><DT><B>Returns:</B></DT><DD><DL><DT><B>Parameters:</B></DT><DD>refreshTokenString</DD></DL></DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getUserDetailsAndNewToken(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@javax.transaction.TransactionalTransactional
org.reactivestreams.Publisher <strong>getUserDetailsAndNewToken</strong>(java.lang.String refreshTokenString)</h4>
                                <p> Gets the refresh token's user details and creates a replacement token. <DL><DT><B>Returns:</B></DT><DD><DL><DT><B>Parameters:</B></DT><DD>refreshTokenString</DD></DL></DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getUserDetailsForUserName(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;io.micronaut.security.authentication.UserDetails <strong>getUserDetailsForUserName</strong>(java.lang.String userName)</h4>
                                <p> Returns the user details for the given user name. <DL><DT><B>Parameters:</B></DT><DD>userName</DD></DL><DL><DT><B>Returns:</B></DT><DD>The details.  Null if not found or not enabled.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="persistToken(io.micronaut.security.token.event.RefreshTokenGeneratedEvent)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.OverrideOverride
@javax.transaction.TransactionalTransactional
void <strong>persistToken</strong>(io.micronaut.security.token.event.RefreshTokenGeneratedEvent event)</h4>
                                <p> Persists the refresh token. <DL><DT><B>Parameters:</B></DT><DD>event</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="replaceBothToken(org.simplemes.eframe.security.domain.RefreshToken, java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;<a href='../../../../../org/simplemes/eframe/security/ReplacementTokenResponse.html'>ReplacementTokenResponse</a> <strong>replaceBothToken</strong>(<a href='../../../../../org/simplemes/eframe/security/domain/RefreshToken.html'>RefreshToken</a> currentRefreshToken, java.lang.String requestSource)</h4>
                                <p> Replaces the current token with a new one and return the correct cookies for the client. <DL><DT><B>Parameters:</B></DT><DD><code>currentRefreshToken</code> -  Current token record.</DD><DD><code>requestSource</code> -  The source of the request.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The replacement tokens.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="replaceJwtToken(org.simplemes.eframe.security.domain.RefreshToken, java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;<a href='../../../../../org/simplemes/eframe/security/ReplacementTokenResponse.html'>ReplacementTokenResponse</a> <strong>replaceJwtToken</strong>(<a href='../../../../../org/simplemes/eframe/security/domain/RefreshToken.html'>RefreshToken</a> currentRefreshToken, java.lang.String requestSource)</h4>
                                <p> Replaces the current JWT token (only) with a new one and return the correct cookie for the client. <DL><DT><B>Parameters:</B></DT><DD><code>currentRefreshToken</code> -  Current token record.</DD><DD><code>requestSource</code> -  The source of the request.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The replacement token.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="replaceRefreshToken(java.lang.String, io.micronaut.http.HttpRequest, java.lang.Boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@javax.transaction.TransactionalTransactional
<a href='../../../../../org/simplemes/eframe/security/ReplacementTokenResponse.html'>ReplacementTokenResponse</a> <strong>replaceRefreshToken</strong>(java.lang.String currentEncodedToken, io.micronaut.http.HttpRequest request, java.lang.Boolean forceReplace)</h4>
                                <p> Replaces the given refresh token with a new single use token.
 Will log an ERROR if a token is used 2+ times and revoke all of the user's current tokens. <DL><DT><B>Parameters:</B></DT><DD><code>currentEncodedToken</code> -  The current token (encoded).</DD><DD><code>request</code> -  The request.</DD><DD><code>forceReplace</code> -  If true, then force the replacement,.</DD></DL><DL><DT><B>Returns:</B></DT><DD>The token and user details.  Null if token is not valid or has already been used.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="revokeAllUserTokens(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@javax.transaction.TransactionalTransactional
protected&nbsp;void <strong>revokeAllUserTokens</strong>(java.lang.String userName)</h4>
                                <p> Revokes all user's tokens. <DL><DT><B>Parameters:</B></DT><DD><code>userName</code> -  The user.</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/eframe/security/service/RefreshTokenService" target="_top">Frames</a></li>
            <li><a href="RefreshTokenService.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
