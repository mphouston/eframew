<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc -->
    <title>ExtensionController (eframe 0.5 API)</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="ExtensionController (eframe 0.5 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/eframe/custom/controller/ExtensionController" target="_top">Frames</a></li>
            <li><a href="ExtensionController.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>org.simplemes.eframe.custom.controller</strong></div>

    <h2 title="[Groovy] Class ExtensionController" class="title">[Groovy] Class ExtensionController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li><ul class="inheritance"></ul></li><li>org.simplemes.eframe.custom.controller.ExtensionController
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">



    <p> Controller to support GUI extension/customization.  Provides dialogs and server support for customizing GUIs and
 domains.
 <p>
 All methods require the DESIGNER role.</p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        
            <ul class="blockList">
                <li class="blockList"><a name="field_summary"><!--   --></a>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited fields summary table">
                        <caption><span>Inherited fields</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Fields inherited from class</th>
                            <th class="colLast" scope="col">Fields</th>
                        </tr>
                                                <tr class="altColor">
                            <td class="colFirst"><strong><code>class <a href='../../../../../org/simplemes/eframe/controller/BaseController.html'>BaseController</a></code></strong></td>
                            <td class="colLast"><code><a href='../../../../../org/simplemes/eframe/controller/BaseController.html#lastErrorMessage'>lastErrorMessage</a></code></td>
                        </tr>

                    </table>
                    </ul>
                </li>
                
            </ul>
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>private&nbsp;<a href='../../../../../org/simplemes/eframe/custom/service/ExtensionService.html'>ExtensionService</a></strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#extensionService">extensionService</a></code><br>The service that handles most preference actions.</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#ExtensionController()">ExtensionController</a>
                                ()</code><br></td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../org/simplemes/eframe/controller/StandardModelAndView.html'>StandardModelAndView</a></code></td>
                            <td class="colLast"><code><strong><a href="#configDialog(io.micronaut.http.HttpRequest, java.security.Principal)">configDialog</a></strong>(io.micronaut.http.HttpRequest request, java.security.Principal principal)</code><br>Serves the configuration dialog content for the definition GUI configuration editor.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#deleteField(io.micronaut.http.HttpRequest, java.security.Principal)">deleteField</a></strong>(io.micronaut.http.HttpRequest request, java.security.Principal principal)</code><br>Deletes the custom field definition and removes it from the field order.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#dialog(io.micronaut.http.HttpRequest, java.security.Principal)">dialog</a></strong>(io.micronaut.http.HttpRequest request, java.security.Principal principal)</code><br>Serves up a page for the extension-related client functions. </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code><a href='../../../../../org/simplemes/eframe/controller/StandardModelAndView.html'>StandardModelAndView</a></code></td>
                            <td class="colLast"><code><strong><a href="#fieldDialog(io.micronaut.http.HttpRequest, java.security.Principal)">fieldDialog</a></strong>(io.micronaut.http.HttpRequest request, java.security.Principal principal)</code><br>Serves the custom field edit/add dialog content for the definition GUI configuration editor.
 </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#saveField(io.micronaut.http.HttpRequest, java.security.Principal)">saveField</a></strong>(io.micronaut.http.HttpRequest request, java.security.Principal principal)</code><br>Saves the custom field definition.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>io.micronaut.http.HttpResponse</code></td>
                            <td class="colLast"><code><strong><a href="#saveFieldOrder(io.micronaut.http.HttpRequest, java.security.Principal)">saveFieldOrder</a></strong>(io.micronaut.http.HttpRequest request, java.security.Principal principal)</code><br>Saves the GUI definition field order.</td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class <a href='../../../../../org/simplemes/eframe/controller/BaseController.html'>BaseController</a></code></td>
                            <td class="colLast"><code><a href='../../../../../org/simplemes/eframe/controller/BaseController.html#buildDeniedResponse(io.micronaut.http.HttpRequest, java.lang.String, java.security.Principal)'>buildDeniedResponse</a>, <a href='../../../../../org/simplemes/eframe/controller/BaseController.html#buildErrorResponse(java.lang.String)'>buildErrorResponse</a>, <a href='../../../../../org/simplemes/eframe/controller/BaseController.html#buildOkResponse(java.lang.Object)'>buildOkResponse</a>, <a href='../../../../../org/simplemes/eframe/controller/BaseController.html#error(io.micronaut.http.HttpRequest, java.lang.Throwable)'>error</a>, <a href='../../../../../org/simplemes/eframe/controller/BaseController.html#parseBody(io.micronaut.http.HttpRequest, java.lang.Class)'>parseBody</a></code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="extensionService"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>private&nbsp;<a href='../../../../../org/simplemes/eframe/custom/service/ExtensionService.html'>ExtensionService</a> <strong>extensionService</strong></h4>
                                <p> The service that handles most preference actions.</p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="ExtensionController()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>ExtensionController</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="configDialog(io.micronaut.http.HttpRequest, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.GetGet
@io.micronaut.http.annotation.ProducesProduces
<a href='../../../../../org/simplemes/eframe/controller/StandardModelAndView.html'>StandardModelAndView</a> <strong>configDialog</strong>(io.micronaut.http.HttpRequest request, @javax.annotation.NullableNullable java.security.Principal principal)</h4>
                                <p> Serves the configuration dialog content for the definition GUI configuration editor.
 This controller finds the current state and passes it to the .ftl file to generate
 the dialog content.

 <h3>Parameters</h3>
 The HTTP Get parameters supported:
 <ul>
   <li><b>domainURL</b> - The URL that requested the config dialog.  This is used to find the core
                          domain class.
   </li>
 </ul>

 <h3>Model(s) Provided</h3>
 The model variables available to the .ftl file include:
 <ul>
   <li><b>availableFields</b> - A Javascript formatted list of the fields that could be configured in the domain.
                                This includes the elements: name, label, type, custom (boolean).
   <li><b>configuredFields</b> - A Javascript formatted list of the fields already configured to be displayed by the GUI/domain.
                                This list has the same elements as the availableFields.
   </li>
 </ul> <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The request.</DD><DD>principal</DD></DL><DL><DT><B>Returns:</B></DT><DD>The page.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="deleteField(io.micronaut.http.HttpRequest, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.PostPost
@io.micronaut.http.annotation.ProducesProduces
io.micronaut.http.HttpResponse <strong>deleteField</strong>(io.micronaut.http.HttpRequest request, @javax.annotation.NullableNullable java.security.Principal principal)</h4>
                                <p> Deletes the custom field definition and removes it from the field order.

 <h3>Body</h3>
 The request body is a JSON object with these elements:
 <ul>
   <li><b>id</b> - The ID of the FieldExtension record to delete.
   </li>
 </ul> <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The request.</DD><DD>principal</DD></DL><DL><DT><B>Returns:</B></DT><DD>Status only.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="dialog(io.micronaut.http.HttpRequest, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.GetGet
@io.micronaut.http.annotation.ProducesProduces
io.micronaut.http.HttpResponse <strong>dialog</strong>(io.micronaut.http.HttpRequest request, @javax.annotation.NullableNullable java.security.Principal principal)</h4>
                                <p> Serves up a page for the extension-related client functions. This is served from an .ftl file.

 <h3>Parameters</h3>
 The HTTP Get parameters supported:
 <ul>
   <li><b>dialog</b> - The dialog (.ftl file) to render for display (e.g. '/extension/editFieldDialog').
   </li>
 </ul> <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The request.</DD><DD>principal</DD></DL><DL><DT><B>Returns:</B></DT><DD>The page.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="fieldDialog(io.micronaut.http.HttpRequest, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.GetGet
@io.micronaut.http.annotation.ProducesProduces
<a href='../../../../../org/simplemes/eframe/controller/StandardModelAndView.html'>StandardModelAndView</a> <strong>fieldDialog</strong>(io.micronaut.http.HttpRequest request, @javax.annotation.NullableNullable java.security.Principal principal)</h4>
                                <p> Serves the custom field edit/add dialog content for the definition GUI configuration editor.
 This controller finds the current state and passes it to the .ftl file to generate
 the dialog content.

 <h3>Parameters</h3>
 The HTTP Get parameters supported:
 <ul>
   <li><b>domainURL</b> - The URL that requested the config dialog.  This is used to find the core
                          domain class.
   </li>
 </ul>

 <h3>Model(s) Provided</h3>
 The model variables available to the .ftl file include:
 <ul>
   <li><b>id</b> - The original ID of the field (if in edit mode).
   </li>
 </ul> <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The request.</DD><DD>principal</DD></DL><DL><DT><B>Returns:</B></DT><DD>The page.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="saveField(io.micronaut.http.HttpRequest, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@io.micronaut.http.annotation.PostPost
@io.micronaut.http.annotation.ProducesProduces
io.micronaut.http.HttpResponse <strong>saveField</strong>(io.micronaut.http.HttpRequest request, @javax.annotation.NullableNullable java.security.Principal principal)</h4>
                                <p> Saves the custom field definition.

 <h3>Body</h3>
 The request body is a JSON object with these elements:
 <ul>
   <li><b>domainURL</b> - The URL that requested the config dialog.  This is used to find the core
                          domain class.
   <li><b>FieldExtension properties</b> - All properties for a field extension record.
   </li>
 </ul>

 <h3>Response</h3>
 The Response contains a map with these fields:
 <ul>
   <li><b>name</b> - The field name.
   <li><b>label</b> - The field label (localized).
   <li><b>type</b> - The field type (e.g. 'textField', 'dateField', etc).
   <li><b>custom</b> - True if the field is a custom field.
 </ul> <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The request.</DD><DD>principal</DD></DL><DL><DT><B>Returns:</B></DT><DD>The field extension details.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="saveFieldOrder(io.micronaut.http.HttpRequest, java.security.Principal)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.SuppressWarningsSuppressWarnings
@io.micronaut.http.annotation.PostPost
@io.micronaut.http.annotation.ProducesProduces
io.micronaut.http.HttpResponse <strong>saveFieldOrder</strong>(io.micronaut.http.HttpRequest request, @javax.annotation.NullableNullable java.security.Principal principal)</h4>
                                <p> Saves the GUI definition field order.

 <h3>Body</h3>
 The request body is a JSON object with these elements:
 <ul>
   <li><b>domainURL</b> - The URL that requested the config dialog.  This is used to find the core
                          domain class.
   <li><b>fields</b> - An array of field names as configure by the user.
   </li>
 </ul>

 Returns a standard message response if save worked.  An error if not. <DL><DT><B>Parameters:</B></DT><DD><code>request</code> -  The request.</DD><DD>principal</DD></DL><DL><DT><B>Returns:</B></DT><DD>The message response.</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../../index-all.html">Index</a></li>
        <li><a href="../../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../../index.html?org/simplemes/eframe/custom/controller/ExtensionController" target="_top">Frames</a></li>
            <li><a href="ExtensionController.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
